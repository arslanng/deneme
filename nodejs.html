<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.JS</title>
    <link rel="stylesheet" href="css/sql.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<body>
    <!-- Navbar Start -->
    <div class="nav bg-light">
        <div class="container">
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                  <a class="navbar-brand" href="#">Node.JS</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav ms-auto">
                      <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">Ana Sayfa</a>
                      </li>
                      <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                          Eğitim Notları
                        </a>
                        <ul class="dropdown-menu">
                          <li><a class="dropdown-item" href="html_notları.html" target="_blank">HTML Notları</a></li>
                          <li><a class="dropdown-item" href="CSS.html" target="_blank">CSS Notları</a></li>
                          <li><a class="dropdown-item" href="bootstrap.html" target="_blank">Bootstrap Notları</a></li>
                          <li><a class="dropdown-item" href="js.html" target="_blank">JavaScript Notları</a></li>
                          <li><a class="dropdown-item" href="git.html" target="_blank">git notları</a></li>
                          <li><a class="dropdown-item" href="sql.html" target="_blank">SQL notları</a></li>
                          </ul>
                      </li>
                    </ul>
                  </div>
                </div>
              </nav>
        </div>
    </div>
    <!-- Navbar End -->
    <!-- İçerik Start -->
    <div class="container">
      <div class="row nedir">
        <h1>Node.js Nedir?</h1>
        <p>
          Node.js, Chrome V8 JavaScript Engine'i temel alan bir JavaScript çalışma ortamıdır. Bu çalışma ortamı sayesinde bizler Javascript kodlarını kullanmak için tarayıcı kısıtlamalarından kurtulmuş oluruz. 
        </p>

        <h2>Nasıl Çalışır</h2>

        <h3>Event-Driven:</h3>
        <p>
          Node.js olay odaklı (event-driven) çalışır. Tek thread kullanmasından, yani aynı anda sadece bir işlem yapabilmesi nedeniyle node.js kendisinden istenilen işleri bir olay döngüsünün içerisinde değerlendirir.
        </p>

        <h3>Non-Blocking:</h3>
        <p>
          Node.js işlem sırasına koyduğu bir olayın tamamlanmasını beklemeden diğer olayı işleme alabilir, bunun sonucu olarak Node.js iş akışını engellemez.
        </p>

        <h3>Asynchronous:</h3>
        <p>
          Node.js asenkron (asynchronous) çalışır. Asenkron çalışma, kod akışının yukarıdan aşağıya ilerlemediği, işlemlerin birbirini beklemediği çalışma türüdür. Bu sayede işlem sırası olaya göre belirlenebilir.
        </p>

      </div>
      <div class="row asalSayi">
        <h1>Asal Sayılar Çalışması</h1>
        <p>
          <code>
            function showPrimeNumbers(lownumber, highnumber){ <br>
              for(let i = lownumber; i<=highnumber; i++){ <br>
                 let isPrime = true; <br>
                 for (let j = 2; j <= i; j++){ <br>
                  if (i%j===0 && j !==i){ <br>
                      isPrime = false <br>
                  } 
                 }  <br>
                 if(isPrime){ <br>
                  console.log(i); <br>
                 } 
              }
          } <br>
          
          showPrimeNumbers(2, 9)
          </code> bize 2 ve 9 arasındaki asal sayıları verir. Bunu terminalde görmek için <code>node uygulama_adi</code> yazılır.
        </p>

        <h2>Terminalden veri almak</h2>
        <p>
          process nesnesi nodeJS e ait global nesnelerden biridir. Bize o anki işlemle ilgili bilgiler verir. <br>
          <code>
            console.log(process)
          </code> ifadesi js klasörüne ilave edilerek bu bilgilere ulaşılabilir. Çok fazla bilgi verir. Bir kısmı bize gerekir.
        </p>
        <p>
          <strong>process.argv</strong> özelliği bize node.exe ve çalışan js dosyasının parametrelerini verir. <br>
          <code>console.log(process.argv)</code> koda ilave olunca bu iki veriyi konsola 2 maddeli <strong>array</strong> olarak yazdırır.
        </p>
        <p>
          içinde <code>console.log(process.argv)</code> ifadesi bulunan kodu çalıştırırken terminalde boşluk bırakıp ifade girilirse boşluktan sonraki her maddeyi arraye ekler. <br>
          <code>
            node uygulama_adi 1 12
          </code>
        </p>
        <p>
          uygulamanın içindeki kod bir array metodu olan slice ile ilk iki parametresi alınmayacak şekilde yazılırsa çıktı olarak terminalde kodun sonuna yazılan değerleri verir. <br>
          <code>
            console.log(process.argv.slice(2));
          </code>
        </p>
        <p>
          <code>
            process.argv.slice(2)
          </code> değeri js üzerinden bir değişkene tanımlanır ise bu sayede terminalden veri alınabilir.
          
        </p>
        <h2>Terminalden Alınan Veriyi Programda Kullanma</h2>
        <p>
          asal sayı bulma kodunun başına <br>
          <code>
            const arguments = process.argv.slice(2);
          </code> ile alınacak değişkenler eklenir.
        </p>
        <p>
          Son kısma da çıktı almak için <br>
          <code>
            showPrimeNumbers(arguments[0], arguments[1]); 
          </code> uygulanır
        </p>
      </div>
      <div class="row repl">
        <h1>REPL</h1>
        <p>
          Node.js Javascript çalışma ortamının terminal ekranı. 
        </p>
        <p>
          REPL ortamını başlatmak için node komutunu terminal ekranına yazmak yeterli olacaktır.
        </p>
        <p>
          <code>alert</code> benzeri bazı kodlar tarayıcıda çalışırken REPL içinde çalışmayabilir. Tam tersi de olabilir.
        </p>
        <h2>REPL Komutları - Açıklamaları</h2>
        <p>
          <strong>help</strong> - Tüm komutları listeler. <br>
          <strong>break</strong> - Çok satırlı ifadeden çıkar. <br>
          <strong>ctrl + c</strong> - Çalışan komutu durdurur.<br>
          <strong>ctrl + d</strong> - REPL ortamını sonlandırır.<br>
          <strong>save dosya_adi</strong> - REPL ortamındaki kodları dosyaya kaydeder.<br>
          <strong>load dosya_adi</strong> - Dosyadaki kodları REPL ortamına alır.
        </p>
      </div>
      <div class="row asenkronJs">
        <h1>Node.js'in Asenkron Yapısı</h1>
        <p>
          Asenkron programlama uzun süren bir işlemi beklemeden diğer işlemlere devam edebilmektir, işlemlerin sırasıyla devam etme zorunluluğu yoktur. Önce bir dosya okuyalım, aaa ama bu dosya okumak uzun sürüyor, eee ne yapalım o zaman? Bu işlemin bitmesini beklemeden diğer işleme geçebiliriz. Bir işlem yapılırken diğer işlemler bloklanmaz.
        </p>
        <p>
          Node.js için temel amaç mümkün olan en kısa sürede beklemeden fazla sayıda işlem yapmaktır.
        </p>
        <p>
          Aynı anda başladığı işleri hangi sırayla sunacağını da <strong>olay döngüsü (event-loop)</strong> belirler.
        </p>
      </div>
      <div class="row callback">
        <h1>Callback Nedir?</h1>
        <p>
          klasik js kod sırasına göre sıralı ilerler (senkron çalışma) ve aynı anda tek bir işlem yapar (single thread)
        </p>
        <p>
          Node.JS nin ise asenkron bir doğası vardır.
        </p>
        <p>
          Callback fonksiyonu başka bir fonksiyon içerisinde argüman olarak kullanılabilen fonksiyon anlamına gelmektedir.
        </p>
        <p>
          <code>
            const func1 = () => { <br>
              console.log('func 1 tamamlandı') <br>
              func2(); 
            };<br>
            const func2 = () => { <br>
              console.log('func 2 tamamlandı') <br>
              func3();
            }; <br>
            const func3 = () => { <br>
              console.log('func 3 tamamlandı')
            };<br>
      
          func1();
          </code> bu kod çalıştığında önce func1 aktive olur. Sonra onun içine argüman olarak eklenen func2 aktive olur. Sonra onun içine argüman olarak eklenen func3 aktive olur.
        </p>
        <p>
          Örnekler için: <strong>callback.js</strong>
        </p>

      </div>
      <div class="row promise">
        <h1>Promise Nedir?</h1>
        <p>
          Bir işlemin sonucunu temsil eden bir JS nesnesidir.
        </p>
        <p>
          Promise bir işlemin sonucunu temsil eden bir Javascript nesnesidir. Promise nesnesi Resolve ve Reject adında iki tane parametre alır ve olumlu durumlarda Resolve ile belirtilen işlemlerin, olumsuz durumlarda da Reject ile belirtilen işlemlerin yapılacağına dair güvence verir. Promise yapısı olumlu sonuçları .then(), olumsuz sonuçları da .catch() ile karşılar.
        </p>
        <p>
          <code>
            const promise1 = new Promise((resolve, reject) => { <br>
              resolve('Veriler Alındı');<br>
              reject('Bağlantı Hatası');
          });
          </code> ile promise kurulur.
        </p>
        <p>

        </p>
        <p>
          <code>
            promise1 <br>
              .then(value => { <br>
                  console.log(value); <br>
              });
          </code> ile resorve durumu yakalar.
        <p>
          <code>
            promise1 <br>
              .catch(error => { <br>
                  console.log(error); <br>
              });
          </code> ile reject durumu yakalar.
        </p>
        <p>
          <code>
            promise1 <br>
              .then(value => { <br>
                  console.log(value); <br>
              }).catch(error => { <br>
                  console.log(error); <br>
              });
          </code> ile her iki durumu da yakalar.
        </p>
        <p>
          Örnek için <strong>promise.js</strong>
        </p>
      </div>
      <div class="row asyncAwait">
        <h1>Async Await Yapısı</h1>
        <p>
          Async - Await yapısı ES8 ile birlikte gelmiştir ve Promise yapısının daha anlaşılır bir söz dizimi ile yazılmasıdır.
        </p>
        <p>
          Bir fonksiyon async anahtar kelimesi ile birlikte tanımlanırsa, fonksiyonun olumlu sonuçlanması sonucunda bir Promise döner. Bir async fonksiyon await anahtar kelimesi ile birlikte kullanılırsa ilgili Promise olumlu bir şekilde dönene kadar async fonksiyonunun çalışması bekletilir.
        </p>
        <p>
          asenkron fonksiyon (<code>async function</code>) içinde bekle (<code>await</code>) komutu ile daha önce <code>promise</code> kalıbında yazılan verinin <code>await</code> ten sonraki kısmı true ise <code>resolve</code> çıktısı, false ise <code>reject</code> tipik reject hatası alınır. Bu hatayı almamak için tüm yapı <code>try-catch</code> bloğuna alınır.
        </p>
        <p>
          özellikle sıralı işlemler için kullanılır.
        </p>
        
        <h2>Örnek</h2>
        <p>
          <code>
            function getData(data) { <br>
              return new Promise((resolve, reject) => {<br>
                  console.log('Veriler alınmaya çalışılıyor..');<br>
                  if (data) {<br>
                      resolve('Veriler alındı');<br>
                  } else {<br>
                      reject('Veriler alınamadı')
                  }
              })
            }<br><br>
          
            function cleanData(receivedData) {<br>
              return new Promise((resolve, reject) => {<br>
                  console.log('Veriler düzenleniyor..');<br>
                  if (receivedData) {<br>
                      resolve('Veriler düzenlendi')<br>
                  } else {<br>
                      reject('Veriler düzenlenemedi')
                  }
              })
            }<br>
          </code> ifadelerinde önce birinci fonksiyon, sonra 2. fonksiyon çalışmalıdır.
        </p>
        <p>
          Bu ifadelerin sırayla ve doğrulanarak ilerlemesi için <strong>promise</strong> yapsında: <br>
          <code>
            getData(true) <br>
              .then(result => {<br>
                  console.log(result);<br>
                  return cleanData(true)<br>
              }).then(result =>{<br>
                  console.log(result)<br>
              }).catch(error => {<br>
                  console.log(error)<br>
              });<br>
          </code> yapısı kullanılır.
        </p>
        <p>
          <strong>async-await</strong> yapısı için ise: <br>
          <code>
            async function processData(){ <br>
              try{<br>
                  const receivedData = await getData(false);</code> // devam etmek için bunu bekle.<br><code>
                  console.log(receivedData);<br>
                  const cleanedData = await cleanData(true);</code> // devam etmek için bunu bekle.<br> <code>
                  console.log(cleanedData);<br>
              } catch(error) {<br>
                  console.log(error)
              }
              }<br><br>
              
              
              processData();
          </code> kullanılır.
        </p>


        
      </div>
      <div class="row module">
        <h1>Modül Kavramı</h1>

        <h2>Modül Nedir?</h2>
        <p>
          Node.js uygulaması farklı görevleri olan farklı Javascript dosyalarından oluşur ve Node.js içerdiği tüm Javascript dosyalarına bir modül olarak davranır. Modül genelde belirli özel bir işlevi olan Javascript dosyasıdır. Bu şekilde Node.js uygulamaya ait olan dosyaları farklı bölümlere ayırarak kodun daha modülarize olmasını ve aynı zamanda bu kod kontrolünün ve hata yakalamanın daha kolay olmasını sağlar.
        </p>
        
        <h2>Asal Sayılar Örneği</h2>
        <p>
          Burada daha önce üzerine konuştuğumuz asal sayılar örneğimizi daha modüler hale getirelim ve sonrasında diğer dosyaların bu modülümüze ulaşmasını sağlayalım.
        </p>
        <p>
          primeNumber.js => primeNumberModule.js adıyla yeniden kopyalandı ve dizenlendi
        </p>
        <p>primeNumberModule.js içinde: <br>
          <code>
            function showPrimeNumbers(lownumber, highnumber){<br>
              for(let i = lownumber; i<=highnumber; i++){<br>
                 let isPrime = true;<br>
                 for (let j = 2; j <= i; j++){<br>
                  if (i%j===0 && j !==i){<br>
                      isPrime = false
                  }
                 } <br>
                 if(isPrime){<br>
                  console.log(i);
                 }
              }
          }<br><br>
          
          
          module.exports = {showPrimeNumbers}; 
          </code>Bu işlem ile fonksiyonu diğer dosyaların kullanımına açıyoruz. {} içine aralarına virgül koyarak birden fazla fonksiyon export edilebilir.
        </p>
        <p>
          Başka bir js dosyası içinde: <br>
          <code>
            const primeNumbers = require('./primeNumbersModule');
          </code> değişkene modül atanır. <br>
          <code>
            primeNumbers.showPrimeNumbers(10,22);
          </code> değişken üzerinden fonksiyon çağırılır.
        </p>
        <p>
          Birden fazla fonksiyon export ettiğimizde, örneğin: <br>
          <code>
            module.exports = {
              showPrimeNumbers,
              showFivePrimes
            } 
          </code><br>
          Çağırıken bir değişkene atayıp tek tek çağırabiliriz:
          <code>
            const primeNumbers = require('./primeNumbers');<br>
            primeNumbers.showPrimeNumbers(10, 22);<br>
            primeNumbers.showFivePrimes();
          </code><br>
          ya da object destructuring yöntemiyle parçalayıp kullanabiliriz. <br>
          <code>
            const { showPrimeNumbers, showFivePrimes } = require('./primeNumbers');<br>
            showPrimeNumbers(10, 22); <br>
            showFivePrimes();
          </code>
        </p>

        <h2>ES6 Import Söz Dizimi</h2>
        <p>
          Burada ES6 Import söz dizimini kullanarak da aynı işlemi yerine getirebiliriz. Fonksiyonu export ederken tek bir fonksiyon için default anahtar kelimesini kullanırız.
        </p>
        <p>
          <code>
            export default showPrimeNumbers;
          </code>
        </p>
        <p>
          import ederken ise bu kez dosya uzantısını kullanmak durumundayız.
        </p>
        <p>
          <code>
            import showPrimeNumbers  from './primeNumbers.js';
          </code>
        </p>
      </div>

    </div>
    <!-- İçerik End -->
    <!-- footer start -->
    <!-- footer end -->
    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>